<div class="form-control form-control-lg typeahead-multiselect d-flex flex-row flex-wrap">
    <span class="btn btn-primary btn-sm typeahead-multiselect__tag" *ngFor="let item of selectedItems" [ngClass]="getItemClass(item)">
    {{item.label}}
        <i class="fa fa-times remove-button" aria-hidden="true" (click)="removeItem(item)"></i>
    </span>
    <form (ngSubmit)="selectFreeText($event)" autocomplete="off" novalidate>

        <ng-template #template let-result="result" let-term="term" let-formatter="formatter">
            <div *ngIf="result.firstInGroup" class="typeahead-multiselect__type-label pull-right" [ngClass]="getTypeClass(result.model)">
                {{'typeahead-multiselect.type.' + result.model.type | translate}}
            </div>
            <div [ngClass]="{'fist-in-group-item': result.firstInGroup && !result.first}">
                <ngb-highlight [result]="formatter(result.model)" [term]="term"></ngb-highlight>
            </div>
        </ng-template>

        <input #input type="text" class="input typeahead-multiselect__input" autofocus name="inputValue"
               [placeholder]="placeHolder"
               [(ngModel)]="inputValue"
               [ngbTypeahead]="wrappedItemLoader"
               [resultFormatter]="formatResultItem"
               (selectItem)="selectItem($event)"
               [resultTemplate]="template"/>
    </form>
</div>
